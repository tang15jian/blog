(window.webpackJsonp=window.webpackJsonp||[]).push([[85],{394:function(t,a,s){"use strict";s.r(a);var n=s(26),r=Object(n.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"go中的包"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#go中的包"}},[t._v("#")]),t._v(" Go中的包")]),t._v(" "),s("h2",{attrs:{id:"go中的包的介绍和定义"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#go中的包的介绍和定义"}},[t._v("#")]),t._v(" Go中的包的介绍和定义")]),t._v(" "),s("p",[t._v("包（package）是多个Go源码的集合，是一种高级的代码复用方案，Go语言为我们提供了很多内置包，如fmt、strconv、strings、sort、errors、time、encoding/json、os、io等。")]),t._v(" "),s("p",[t._v("Golang中的包可以分为三种：1、系统内置包   2、自定义包   3、第三方包")]),t._v(" "),s("ul",[s("li",[s("strong",[t._v("系统内置包")]),t._v("：Golang 语言给我们提供的内置包，引入后可以直接使用，如fmt、strconv、strings、sort、errors、time、encoding/json、os、io等。")]),t._v(" "),s("li",[s("strong",[t._v("自定义包")]),t._v("：开发者自己写的包")]),t._v(" "),s("li",[s("strong",[t._v("第三方包")]),t._v('：属于自定义包的一种，需要下载安装到本地后才可以使用，如前面给大家介绍的\n"github.com/shopspring/decimal"包解决float精度丢失问题。')])]),t._v(" "),s("h2",{attrs:{id:"go包管理工具-go-mod"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#go包管理工具-go-mod"}},[t._v("#")]),t._v(" Go包管理工具 go mod")]),t._v(" "),s("p",[t._v("在Golang1.11版本之前如果我们要自定义包的话必须把项目放在GOPATH目录。Go1.11版本之后无需手动配置环境变量，使用go mod 管理项目，也不需要非得把项目放到GOPATH指定目录下，你可以在你磁盘的任何位置新建一个项目，Go1.13以后可以彻底不要GOPATH了。")]),t._v(" "),s("h3",{attrs:{id:"go-mod-init初始化项目"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#go-mod-init初始化项目"}},[t._v("#")]),t._v(" go mod init初始化项目")]),t._v(" "),s("p",[t._v("实际项目开发中我们首先要在我们项目目录中用go mod命令生成一个go.mod文件管理我们项目的依赖。")]),t._v(" "),s("p",[t._v("比如我们的golang项目文件要放在了itying这个文件夹，这个时候我们需要在itying文件夹里面使用go mod命令生成一个go.mod文件")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("go mod init goProject\n")])])]),s("p",[s("img",{attrs:{src:"images/image-20200722160717988.png",alt:"image-20200722160717988"}})]),t._v(" "),s("p",[t._v("然后会生成一个 go.mod 的文件，里面的内容是go版本，以及以后添加的包")]),t._v(" "),s("div",{staticClass:"language-go extra-class"},[s("pre",{pre:!0,attrs:{class:"language-go"}},[s("code",[t._v("module goProject\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("go")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.14")]),t._v("\n")])])]),s("h3",{attrs:{id:"引入其它项目的包"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#引入其它项目的包"}},[t._v("#")]),t._v(" 引入其它项目的包")]),t._v(" "),s("p",[t._v("首先我们创建一个 calc，然后里面有一个calc的文件")]),t._v(" "),s("div",{staticClass:"language-go extra-class"},[s("pre",{pre:!0,attrs:{class:"language-go"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("package")]),t._v(" calc\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 自定义包，最好和文件夹统一起来")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 公有变量")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" age "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 私有变量")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" Name "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"张三"')]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 首字母大写，表示共有方法")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("func")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Add")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("x"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" y "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("int")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("int")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" x "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" y\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("func")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Sub")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("x"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" y "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("int")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("int")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" x "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" y\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("在其它地方需要引用的话，就是这样")]),t._v(" "),s("div",{staticClass:"language-go extra-class"},[s("pre",{pre:!0,attrs:{class:"language-go"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("package")]),t._v(" main\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"fmt"')]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"goProject/calc"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("func")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("main")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\tfmt"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Printf")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"%v"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" calc"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Add")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h2",{attrs:{id:"golang中自定义包"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#golang中自定义包"}},[t._v("#")]),t._v(" Golang中自定义包")]),t._v(" "),s("p",[t._v("包（package）是多个Go源码的集合，一个包可以简单理解为一个存放多个.go文件的文件夹。该文件夹下面的所有go文件都要在代码的第一行添加如下代码，声明该文件归属的包。")]),t._v(" "),s("div",{staticClass:"language-go extra-class"},[s("pre",{pre:!0,attrs:{class:"language-go"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("package")]),t._v(" 包名\n")])])]),s("p",[s("strong",[t._v("注意事项")])]),t._v(" "),s("ul",[s("li",[t._v("一个文件夹下面直接包含的文件只能归属一个package，同样一个package的文件不能在多个文件夹下。")]),t._v(" "),s("li",[t._v("包名可以不和文件夹的名字一样，包名不能包含-符号。")]),t._v(" "),s("li",[t._v("包名为main的包为应用程序的入口包，这种包编译后会得到一个可执行文件，而编译不包含main包的源代码则不会得到可执行文件。")])]),t._v(" "),s("h2",{attrs:{id:"go中init-初始化函数"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#go中init-初始化函数"}},[t._v("#")]),t._v(" Go中init()初始化函数")]),t._v(" "),s("h3",{attrs:{id:"init函数介绍"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#init函数介绍"}},[t._v("#")]),t._v(" init函数介绍")]),t._v(" "),s("p",[t._v("在Go 语言程序执行时导入包语句会自动触发包内部init（）函数的调用。需要注意的是：init（）\n函数没有参数也没有返回值。init（）函数在程序运行时自动被调用执行，不能在代码中主动调用它。\n包初始化执行的顺序如下图所示：")]),t._v(" "),s("p",[t._v("包初始化执行的顺序如下图所示：")]),t._v(" "),s("p",[s("img",{attrs:{src:"images/image-20200722192813667.png",alt:"image-20200722192813667"}})]),t._v(" "),s("h3",{attrs:{id:"init函数执行顺序"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#init函数执行顺序"}},[t._v("#")]),t._v(" init函数执行顺序")]),t._v(" "),s("p",[t._v("Go语言包会从main包开始检查其导入的所有包，每个包中又可能导入了其他的包。Go编译器由此构建出一个树状的包引用关系，再根据引用顺序决定编译顺序，依次编译这些包的代码。")]),t._v(" "),s("p",[t._v("在运行时，被最后导入的包会最先初始化并调用其init（）函数，如下图示：")]),t._v(" "),s("p",[s("img",{attrs:{src:"images/image-20200722192933448.png",alt:"image-20200722192933448"}})]),t._v(" "),s("p",[t._v("也就是父类中的init先执行")]),t._v(" "),s("h2",{attrs:{id:"go中的第三方包"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#go中的第三方包"}},[t._v("#")]),t._v(" Go中的第三方包")]),t._v(" "),s("p",[t._v("我们可以在 https://pkg.go.dev/ 查找看常见的golang第三方包")]),t._v(" "),s("p",[t._v("例如，前面找到前面我们需要下载的第三方包的地址")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("https://github.com/shopspring/decimal\n")])])]),s("p",[t._v("然后安装这个包")]),t._v(" "),s("h3",{attrs:{id:"方法1-go-get-包全名-全局"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#方法1-go-get-包全名-全局"}},[t._v("#")]),t._v(" 方法1：go get 包全名 （全局）")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("go get github.com/shopspring/decimal\n")])])]),s("h3",{attrs:{id:"方法2-go-mod-download-全局"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#方法2-go-mod-download-全局"}},[t._v("#")]),t._v(" 方法2：go mod download （全局）")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("go mod download\n")])])]),s("p",[t._v("依赖包会自动下载到 $GOPATH/pkg/mod目录，并且多个项目可以共享缓存的mod，注意使用go mod download的时候，需要首先在你的项目中引入第三方包")]),t._v(" "),s("h3",{attrs:{id:"方法3-go-mod-vendor-将依赖复制到当前项目的vendor-本项目"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#方法3-go-mod-vendor-将依赖复制到当前项目的vendor-本项目"}},[t._v("#")]),t._v(" 方法3：go mod vendor 将依赖复制到当前项目的vendor（本项目）")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("go mod vendor\n")])])]),s("p",[t._v("将依赖复制到当前项目的vendor下")]),t._v(" "),s("p",[t._v("注意：使用go mod vendor的时候，首先需要在你的项目里面引入第三方包")]),t._v(" "),s("h3",{attrs:{id:"go-mod常见命令"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#go-mod常见命令"}},[t._v("#")]),t._v(" go mod常见命令")]),t._v(" "),s("ul",[s("li",[t._v("go download：下载依赖的module到本地cache")]),t._v(" "),s("li",[t._v("go edit：编辑go.mod文件")]),t._v(" "),s("li",[t._v("go graph：打印模块依赖图")]),t._v(" "),s("li",[t._v("go init：在当前文件夹下初始化一个新的module，创建go.mod文件")]),t._v(" "),s("li",[t._v("tidy：增加丢失的module，去掉未使用的module")]),t._v(" "),s("li",[t._v("vendor：将依赖复制到vendor下")]),t._v(" "),s("li",[t._v("verify：校验依赖，检查下载的第三方库有没有本地修改，如果有修改，则会返回非0，否则校验成功")])]),t._v(" "),s("h2",{attrs:{id:"安装依赖"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#安装依赖"}},[t._v("#")]),t._v(" 安装依赖")]),t._v(" "),s("p",[t._v("首先我们先去官网找到这个包，https://github.com/shopspring/decimal")]),t._v(" "),s("p",[t._v("然后在我们的项目中引入")]),t._v(" "),s("div",{staticClass:"language-go extra-class"},[s("pre",{pre:!0,attrs:{class:"language-go"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"fmt"')]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"github.com/shopspring/decimal"')]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"goProject/calc"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("func")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("main")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\tfmt"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Printf")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"%v \\n"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" calc"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Add")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 打印公有变量")]),t._v("\n\tfmt"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Println")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("calc"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n\t"),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("_")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" err "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":=")]),t._v(" decimal"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("NewFromString")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"136.02"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" err "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("nil")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("panic")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("err"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("引入后，我们运行项目，就会去下载了，下载完成后，我们到  go.mod文件夹，能够看到依赖被引入了")]),t._v(" "),s("div",{staticClass:"language-go extra-class"},[s("pre",{pre:!0,attrs:{class:"language-go"}},[s("code",[t._v("module goProject\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("go")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.14")]),t._v("\n\nrequire github"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("com"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("shopspring"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("decimal v1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2.0")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// indirect")]),t._v("\n")])])]),s("p",[t._v("同时还生成了一个 go.sum文件")]),t._v(" "),s("div",{staticClass:"language-go extra-class"},[s("pre",{pre:!0,attrs:{class:"language-go"}},[s("code",[t._v("github"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("com"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("shopspring"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("decimal v1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2.0")]),t._v(" h1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("abSATXmQEYyShuxI4"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("vyW3tV1MrKAJzCZ"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("zLUXYbsQ"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("\ngithub"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("com"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("shopspring"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("decimal v1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2.0")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("go")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("mod h1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("DKyhrW"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("HYNuLGql"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v("MJL6WCR6knT2jwCFRcu2hWCYk4o"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("\n")])])]),s("p",[t._v("这样我们就可以使用第三包开始具体的使用了~，我们实现一个Float类型的加法")]),t._v(" "),s("div",{staticClass:"language-go extra-class"},[s("pre",{pre:!0,attrs:{class:"language-go"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("package")]),t._v(" main\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"fmt"')]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"github.com/shopspring/decimal"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("func")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("main")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" num1 "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("float64")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3.1")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" num2 "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("float64")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4.2")]),t._v("\n\td1 "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":=")]),t._v(" decimal"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("NewFromFloat")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("num1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Add")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("decimal"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("NewFromFloat")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("num2"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\tfmt"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Println")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("d1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h2",{attrs:{id:"完整案例"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#完整案例"}},[t._v("#")]),t._v(" 完整案例")]),t._v(" "),s("h3",{attrs:{id:"寻找依赖"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#寻找依赖"}},[t._v("#")]),t._v(" 寻找依赖")]),t._v(" "),s("p",[t._v("首先我们需要去 "),s("a",{attrs:{href:"https://pkg.go.dev/",target:"_blank",rel:"noopener noreferrer"}},[t._v("依赖官网"),s("OutboundLink")],1),t._v("，类似于我们的  maven repository")]),t._v(" "),s("p",[s("img",{attrs:{src:"images/image-20200722200404713.png",alt:"image-20200722200404713"}})]),t._v(" "),s("p",[t._v("然后我们搜索gJson的包，这个包主要是用于json相关的操作")]),t._v(" "),s("p",[s("img",{attrs:{src:"images/image-20200722200455221.png",alt:"image-20200722200455221"}})]),t._v(" "),s("p",[t._v("我们进去后，找到它的https://github.com/tidwall/gjson，然后提供了完整的教程")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 下载依赖")]),t._v("\ngo get -u github.com/tidwall/gjson\n")])])]),s("p",[t._v("使用")]),t._v(" "),s("div",{staticClass:"language-go extra-class"},[s("pre",{pre:!0,attrs:{class:"language-go"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("package")]),t._v(" main\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"github.com/tidwall/gjson"')]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" json "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('`{"name":{"first":"Janet","last":"Prichard"},"age":47}`')]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("func")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("main")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\tvalue "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":=")]),t._v(" gjson"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Get")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("json"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"name.last"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("value"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("String")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])])}),[],!1,null,null,null);a.default=r.exports}}]);